<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Bible Belt — Clean Starter</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="site-header">
        <div class="brand">My Bible Belt</div>

        <nav class="nav">
            <button class="nav-btn" data-tab="welcome">Welcome</button>
            <button class="nav-btn" data-tab="resources">Resources</button>
            <button class="nav-btn" data-tab="prayer">Prayer</button>
            <button class="nav-btn" data-tab="recovery">Recovery</button>
            <button class="nav-btn" data-tab="support">Support</button>

            <div class="grow"></div>

            <button id="themeToggle" class="icon-btn" title="Toggle theme"></button>
        </nav>

        <div class="mobile-nav">
            <label for="mobileNav" class="sr-only">Navigate</label>
            <select id="mobileNav">
                <option value="welcome">Welcome</option>
                <option value="resources">Resources</option>
                <option value="prayer">Prayer</option>
                <option value="recovery">Recovery</option>
                <option value="support">Support</option>
            </select>
            <button id="themeToggleMobile" class="icon-btn" title="Toggle theme (mobile)"></button>
        </div>
    </header>

    <main>
        <!-- Welcome -->
        <section id="welcome" class="tab-section">
            <div class="card">
                <h2>Welcome</h2>
                <p>Clean starter with working tabs, theme toggle, resources, prayer tools, and a support modal.</p>
                <button id="findChurchBtn" class="btn">Find a Church (demo)</button>
            </div>
        </section>

        <!-- Resources -->
        <section id="resources" class="tab-section hidden">
            <div class="card">
                <h2>Starter Kits</h2>

                <div class="row gap mt">
                    <input id="kitTitle" class="input" placeholder="Kit title e.g. Baptist — Starter Kit" />
                    <input id="kitIntro" class="input" placeholder="Short intro" />
                </div>
                <div class="row gap mt">
                    <input id="kitStudy" class="input" placeholder="One study item (optional)" />
                    <button id="addKitBtn" class="btn">Add Kit</button>
                    <button id="clearKitFormBtn" class="btn ghost">Clear</button>
                </div>

                <div id="kitsGrid" class="grid mt"></div>
            </div>
        </section>

        <!-- Prayer -->
        <section id="prayer" class="tab-section hidden">
            <div id="prayer-section" class="card">
                <h2>Prayer Tools</h2>
                <p class="muted" id="prayerInfo">Build a simple prayer rule or use a timed prayer session.</p>

                <div class="row gap mt">
                    <button id="btnCreateRule" class="btn">Create a Prayer Rule</button>
                    <button id="btnPrayNow" class="btn">Pray Now (Timer)</button>
                    <button id="btnPrayerRequest" class="btn ghost">Add Prayer Request</button>
                </div>

                <!-- Rule Builder -->
                <div id="ruleBuilder" class="mt hidden">
                    <h3>Create Rule</h3>
                    <form id="ruleForm" class="stack">
                        <fieldset>
                            <legend>Times of day</legend>
                            <label><input type="checkbox" name="times" value="Morning" /> Morning</label>
                            <label><input type="checkbox" name="times" value="Midday" /> Midday</label>
                            <label><input type="checkbox" name="times" value="Evening" /> Evening</label>
                        </fieldset>

                        <fieldset>
                            <legend>Focus areas</legend>
                            <label><input type="checkbox" name="focus" value="Praise" checked /> Praise</label>
                            <label><input type="checkbox" name="focus" value="Confession" checked /> Confession</label>
                            <label><input type="checkbox" name="focus" value="Intercession" checked /> Intercession</label>
                            <label><input type="checkbox" name="focus" value="Listening" checked /> Listening</label>
                        </fieldset>

                        <div class="row gap">
                            <label>Minutes: <input id="duration" type="number" min="1" max="120" value="10" class="input w-xs" /></label>
                            <input id="scripture" class="input grow" placeholder="Scripture (optional)" />
                            <input id="notes" class="input grow" placeholder="Notes (optional)" />
                        </div>

                        <div class="row gap">
                            <button type="button" id="btnGenerateRule" class="btn">Generate</button>
                            <button type="button" id="btnClearRule" class="btn ghost">Clear</button>
                            <button type="button" id="btnCopyRule" class="btn ghost">Copy</button>
                            <button type="button" id="btnDownloadRule" class="btn ghost">Download</button>
                        </div>
                    </form>

                    <pre id="ruleOutput" class="pre hidden"><code id="ruleText"></code></pre>
                </div>

                <!-- Pray Now Timer -->
                <div id="prayPanel" class="mt hidden">
                    <h3>Timed Prayer</h3>
                    <div class="row gap">
                        <label>
                            Minutes:
                            <input id="prayMinutes" type="number" class="input w-xs" min="1" max="180" value="10" />
                        </label>
                        <button id="btnStartTimer" class="btn">Start</button>
                        <button id="btnPauseTimer" class="btn ghost" disabled>Pause</button>
                        <button id="btnResetTimer" class="btn ghost" disabled>Reset</button>
                    </div>

                    <div class="timer mt">
                        <div class="timer-bar" id="timerBar"></div>
                    </div>
                    <div class="row spread">
                        <div id="timerDisplay" class="timer-display">0:00</div>
                        <div id="timerHints" class="muted"></div>
                    </div>
                </div>
            </div>

            <!-- Prayer Request Modal -->
            <dialog id="prayerDialog" class="pg-dialog">
                <div class="pg-dialog-card">
                    <h3>Prayer Request</h3>
                    <form id="prayerForm" method="dialog" class="stack">
                        <div class="row gap">
                            <label><input type="radio" name="reqType" value="For myself" checked /> For myself</label>
                            <label><input type="radio" name="reqType" value="For someone else" /> For someone else</label>
                        </div>
                        <input id="reqName" class="input" placeholder="Your name (optional)" />
                        <input id="reqEmail" class="input" placeholder="Your email (optional)" />
                        <textarea id="reqMessage" class="input" placeholder="What can we pray for?" rows="4"></textarea>
                        <div class="row gap">
                            <label><input type="radio" name="privacy" value="Private" checked /> Private</label>
                            <label><input type="radio" name="privacy" value="Share with group" /> Share with group</label>
                        </div>
                        <div class="row gap mt">
                            <button id="btnSubmitRequest" class="btn">Save</button>
                            <button value="cancel" class="btn ghost">Cancel</button>
                        </div>
                    </form>
                </div>
            </dialog>
        </section>

        <section id="recovery" class="tab-section hidden">
            <div class="card">
                <h2>Recovery Power in Christ</h2>
                <p class="muted">A gentle, practical plan with steps, scriptures, and local follow-up. All data stays in your browser unless you export it.</p>

                <div class="row gap mt">
                    <button id="recoveryPrintBtn" class="btn">Print this Plan</button>
                    <button id="recoverySignUpBtn" class="btn">Sign Up for Follow-Up</button>

                    <span id="recoveryAdminBadge" class="badge hidden">Admin</span>
                    <div class="grow"></div>
                    <button id="recoveryAdminBtn" class="btn ghost">Admin</button>
                </div>

                <!-- Admin toolbar -->
                <div id="recoveryAdminBar" class="admin-bar hidden">
                    <label class="row gap">
                        <input id="recoveryHidePublic" type="checkbox" />
                        <span>Hide signups publicly on this device</span>
                    </label>
                    <div class="grow"></div>
                    <button id="recoveryDownloadCsvBtn" class="btn ghost">Download CSV</button>
                    <button id="recoveryClearAllBtn" class="btn ghost">Clear All</button>
                </div>

                <!-- Steps + Appendix -->
                <div id="recovery-steps-appendix" class="mt">
                    <h3>Your Recovery Steps</h3>
                    <div id="recoverySteps" class="re-steps">
                        <details class="re-step" data-step="1" open>
                            <summary><span class="step-num">1</span> Surrender & Honesty</summary>
                            <div class="re-body">
                                <p>Admit powerlessness over addiction and invite Christ into the mess with total honesty.</p>
                                <ul>
                                    <li>Pray Psalm 51 (short & honest).</li>
                                    <li>Tell one trusted person “I need help.”</li>
                                    <li>Remove obvious access/temptations today.</li>
                                </ul>
                            </div>
                        </details>

                        <details class="re-step" data-step="2">
                            <summary><span class="step-num">2</span> Safety & Daily Rhythm</summary>
                            <div class="re-body">
                                <p>Stabilize your day. Sleep, food, movement, and a short devotional block.</p>
                                <ul>
                                    <li>Morning: 10 minutes (scripture + prayer).</li>
                                    <li>Text a check-in buddy by noon.</li>
                                    <li>Evening: brief review; gratitude for 3 things.</li>
                                </ul>
                            </div>
                        </details>

                        <details class="re-step" data-step="3">
                            <summary><span class="step-num">3</span> Confession & Clean-up</summary>
                            <div class="re-body">
                                <p>Bring secrets into the light in safe community; start repairing fallout in small pieces.</p>
                            </div>
                        </details>

                        <details class="re-step" data-step="4">
                            <summary><span class="step-num">4</span> Tools & Triggers</summary>
                            <div class="re-body">
                                <p>Identify triggers, add speed bumps, and practice replacement habits.</p>
                            </div>
                        </details>

                        <details class="re-step" data-step="5">
                            <summary><span class="step-num">5</span> Serve & Grow</summary>
                            <div class="re-body">
                                <p>Begin serving in small ways; help others find hope you’re discovering.</p>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Signups List -->
                <div class="mt">
                    <h3>Follow-Up Signups</h3>
                    <div id="recoverySignupList" class="signup-wrap">
                        <div class="muted">No sign ups yet.</div>
                    </div>
                </div>
            </div>

            <!-- Signup Modal -->
            <dialog id="recoveryModal" class="pg-dialog">
                <div class="pg-dialog-card">
                    <h3>Sign Up for Follow-Up</h3>
                    <form id="recoveryForm" class="stack">
                        <input name="fullName" class="input" placeholder="Full name" />
                        <input name="email" type="email" class="input" placeholder="Email (optional)" />
                        <input name="phone" class="input" placeholder="Phone (optional)" />
                        <label>
                            Preferred contact
                            <select name="preferred" class="input">
                                <option value="">Choose…</option>
                                <option>Email</option>
                                <option>Phone</option>
                                <option>Text</option>
                            </select>
                        </label>
                        <textarea name="notes" class="input" rows="3" placeholder="Notes (optional)"></textarea>
                        <label class="row gap">
                            <input name="consent" type="checkbox" />
                            <span>I consent to be contacted for follow-up.</span>
                        </label>

                        <div class="row gap mt">
                            <button class="btn">Submit</button>
                            <button id="recoveryCancel" type="button" class="btn ghost">Cancel</button>
                        </div>
                    </form>
                    <button id="recoveryModalClose" class="icon-close" title="Close" aria-label="Close">×</button>
                    <div data-close-modal class="pg-backdrop-close" aria-hidden="true"></div>
                </div>
            </dialog>
        </section>


        <!-- Support -->
        <section id="support" class="tab-section hidden">
            <div class="card">
                <h2>Support</h2>
                <p>If this project helps you, you can support it below.</p>
                <div class="row gap">
                    <button id="btnSupport" class="btn">Open Support Modal</button>
                </div>
            </div>

            <dialog id="supportDialog" class="pg-dialog">
                <div class="pg-dialog-card">
                    <h3>Support the Project</h3>

                    <div class="stack">
                        <label>
                            Amount (optional)
                            <input id="supAmount" class="input" type="number" min="1" placeholder="e.g. 25" />
                        </label>
                        <label>
                            Note (optional)
                            <input id="supNote" class="input" type="text" placeholder="e.g. Keep it up!" />
                        </label>
                    </div>

                    <div class="mt">
                        <h4>PayPal</h4>
                        <div class="row gap">
                            <button id="ppWeb" class="btn">Open</button>
                            <button id="ppCopy" class="btn ghost">Copy handle</button>
                        </div>
                    </div>

                    <div class="mt">
                        <h4>Cash App</h4>
                        <div class="row gap">
                            <button id="caWeb" class="btn">Open</button>
                            <button id="caCopy" class="btn ghost">Copy $tag</button>
                        </div>
                    </div>

                    <div class="mt">
                        <h4>Venmo</h4>
                        <div class="row gap">
                            <button id="vmApp" class="btn">Open app</button>
                            <button id="vmWeb" class="btn ghost">Open web</button>
                            <button id="vmCopy" class="btn ghost">Copy @user</button>
                        </div>
                    </div>

                    <div class="row right mt">
                        <form method="dialog">
                            <button class="btn ghost">Close</button>
                        </form>
                    </div>
                </div>
            </dialog>
        </section>
    </main>

    <footer class="site-footer">
        <div>© <span id="year"></span> My Bible Belt</div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
